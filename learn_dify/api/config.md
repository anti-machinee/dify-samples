# app_config.py
- Defines a configuration management system using Pydantic's settings management
- Enables loading configuration values from multiple sources, including:
    - Environment variables (.env file)
    - Remote configuration services (like Apollo)
    - Other predefined config classes (feature toggles, middleware, enterprise settings, etc.)
- Configs are fistly loaded from the .env file, then from the remote configuration service (if enabled)
## RemoteSettingsSourceFactory (Custom Configuration Source)
- Extends PydanticBaseSettingsSource, making it a custom source for configuration.
- Dynamically fetches settings from a remote configuration service based on REMOTE_SETTINGS_SOURCE_NAME.
- Currently supports Apollo as a remote settings provider.
## DifyConfig (Main Configuration Class)
- This is the main configuration class for the application.
- It inherits multiple config classes, each representing a category of settings:
    - DeploymentConfig: Deployment-specific settings
    - FeatureConfig: Toggles for app features
    - MiddlewareConfig: Middleware settings
    - ExtraServiceConfig: Config for additional services
    - RemoteSettingsSourceConfig: Settings for remote config providers
    - EnterpriseFeatureConfig: Enterprise-only features (requires a business license)

# PackagingInfo
- CURRENT_VERSION
- COMMIT_SHA

# DeploymentConfig
- APPLICATION_NAME
- DEBUG
- EDITION
- DEPLOY_ENV

# FeatureConfig
- Inherit from multi classes
## AppExecutionConfig
- APP_MAX_EXECUTION_TIME
- APP_MAX_ACTIVE_REQUESTS
## AuthConfig
- OAUTH_REDIRECT_PATH
- GITHUB_CLIENT_ID
- GITHUB_CLIENT_SECRET
- GOOGLE_CLIENT_ID
- GOOGLE_CLIENT_SECRET
- ACCESS_TOKEN_EXPIRE_MINUTES
- REFRESH_TOKEN_EXPIRE_DAYS
- LOGIN_LOCKOUT_DURATION
## BillingConfig
- BILLING_ENABLED
## CodeExecutionSandboxConfig
- CODE_EXECUTION_ENDPOINT
- CODE_EXECUTION_API_KEY
- CODE_EXECUTION_CONNECT_TIMEOUT
- CODE_EXECUTION_READ_TIMEOUT
- CODE_EXECUTION_WRITE_TIMEOUT
- CODE_MAX_NUMBER
- CODE_MIN_NUMBER
- CODE_MAX_DEPTH
- CODE_MAX_PRECISION
- CODE_MAX_STRING_LENGTH
- CODE_MAX_STRING_ARRAY_LENGTH
- CODE_MAX_OBJECT_ARRAY_LENGTH
- CODE_MAX_NUMBER_ARRAY_LENGTH
## DataSetConfig
- PLAN_SANDBOX_CLEAN_DAY_SETTING
- PLAN_PRO_CLEAN_DAY_SETTING
- DATASET_OPERATOR_ENABLED
- TIDB_SERVERLESS_NUMBER
- CREATE_TIDB_SERVICE_JOB_ENABLED
- PLAN_SANDBOX_CLEAN_MESSAGE_DAY_SETTING
## EndpointConfig
- CONSOLE_API_URL
- CONSOLE_WEB_URL
- SERVICE_API_URL
- APP_WEB_URL
## FileAccessConfig
- FILES_URL
- FILES_ACCESS_TIMEOUT
## FileUploadConfig
- UPLOAD_FILE_SIZE_LIMIT
- UPLOAD_FILE_BATCH_LIMIT
- UPLOAD_IMAGE_FILE_SIZE_LIMIT
- UPLOAD_VIDEO_FILE_SIZE_LIMIT
- UPLOAD_AUDIO_FILE_SIZE_LIMIT
- BATCH_UPLOAD_LIMIT
- WORKFLOW_FILE_UPLOAD_LIMIT
## HttpConfig
- API_COMPRESSION_ENABLED
- inner_CONSOLE_CORS_ALLOW_ORIGINS
- CONSOLE_CORS_ALLOW_ORIGINS
- inner_WEB_API_CORS_ALLOW_ORIGINS
- WEB_API_CORS_ALLOW_ORIGINS
- HTTP_REQUEST_MAX_CONNECT_TIMEOUT
- HTTP_REQUEST_MAX_READ_TIMEOUT
- HTTP_REQUEST_MAX_WRITE_TIMEOUT
- HTTP_REQUEST_NODE_MAX_BINARY_SIZE
- HTTP_REQUEST_NODE_MAX_TEXT_SIZE
- SSRF_DEFAULT_MAX_RETRIES
- SSRF_PROXY_ALL_URL
- SSRF_PROXY_HTTP_URL
- SSRF_PROXY_HTTPS_URL
- SSRF_DEFAULT_TIME_OUT
- SSRF_DEFAULT_CONNECT_TIME_OUT
- SSRF_DEFAULT_READ_TIME_OUT
- SSRF_DEFAULT_WRITE_TIME_OUT
- RESPECT_XFORWARD_HEADERS_ENABLED
## InnerAPIConfig
- INNER_API
- INNER_API_KEY
## IndexingConfig
- INDEXING_MAX_SEGMENTATION_TOKENS_LENGTH
- CHILD_CHUNKS_PREVIEW_NUMBER
## LoggingConfig
- LOG_LEVEL
- LOG_FILE
- LOG_FILE_MAX_SIZE
- LOG_FILE_BACKUP_COUNT
- LOG_FORMAT
- LOG_DATEFORMAT
- LOG_TZ
## MailConfig
- MAIL_TYPE
- MAIL_DEFAULT_SEND_FROM
- RESEND_API_KEY
- RESEND_API_URL
- SMTP_SERVER
- SMTP_PORT
- SMTP_USERNAME
- SMTP_PASSWORD
- SMTP_USE_TLS
- SMTP_OPPORTUNISTIC_TLS
- EMAIL_SEND_IP_LIMIT_PER_MINUTE
## ModelLoadBalanceConfig
- MODEL_LB_ENABLED
## ModerationConfig
- MODERATION_BUFFER_SIZE
## MultiModalTransferConfig
- MULTIMODAL_SEND_FORMAT
## PositionConfig
- POSITION_PROVIDER_PINS
- POSITION_PROVIDER_INCLUDES
- POSITION_PROVIDER_EXCLUDES
- POSITION_TOOL_PINS
- POSITION_TOOL_INCLUDES
- POSITION_TOOL_EXCLUDES
- POSITION_PROVIDER_PINS_LIST
- POSITION_PROVIDER_INCLUDES_SET
- POSITION_PROVIDER_EXCLUDES_SET
- POSITION_TOOL_PINS_LIST
- POSITION_TOOL_INCLUDES_SET
- POSITION_TOOL_EXCLUDES_SET
## RagEtlConfig
- ETL_TYPE
- KEYWORD_DATA_SOURCE_TYPE
- UNSTRUCTURED_API_URL
- UNSTRUCTURED_API_KEY
- SCARF_NO_ANALYTICS
## SecurityConfig
- SECRET_KEY
- RESET_PASSWORD_TOKEN_EXPIRY_MINUTES
- LOGIN_DISABLED
- ADMIN_API_KEY_ENABLE
- ADMIN_API_KEY
## ToolConfig
- TOOL_ICON_CACHE_MAX_AGE
## UpdateConfig
- CHECK_UPDATE_URL
## WorkflowConfig
- WORKFLOW_MAX_EXECUTION_STEPS
- WORKFLOW_MAX_EXECUTION_TIME
- WORKFLOW_CALL_MAX_DEPTH
- WORKFLOW_PARALLEL_DEPTH_LIMIT
- MAX_VARIABLE_SIZE
## WorkflowNodeExecutionConfig
- MAX_SUBMIT_COUNT
## WorkspaceConfig
- INVITE_EXPIRY_HOURS
## LoginConfig
- ENABLE_EMAIL_CODE_LOGIN
- ENABLE_EMAIL_PASSWORD_LOGIN
- ENABLE_SOCIAL_OAUTH_LOGIN
- EMAIL_CODE_LOGIN_TOKEN_EXPIRY_MINUTES
- ALLOW_REGISTER
- ALLOW_CREATE_WORKSPACE
## AccountConfig
- ACCOUNT_DELETION_TOKEN_EXPIRY_MINUTES
## HostedServiceConfig
### HostedAnthropicConfig
- HOSTED_ANTHROPIC_API_BASE
- HOSTED_ANTHROPIC_API_KEY
- HOSTED_ANTHROPIC_TRIAL_ENABLED
- HOSTED_ANTHROPIC_QUOTA_LIMIT
- HOSTED_ANTHROPIC_PAID_ENABLED
### HostedAzureOpenAiConfig
- HOSTED_AZURE_OPENAI_ENABLED
- HOSTED_AZURE_OPENAI_API_KEY
- HOSTED_AZURE_OPENAI_API_BASE
- HOSTED_AZURE_OPENAI_QUOTA_LIMIT
### HostedFetchAppTemplateConfig
- HOSTED_FETCH_APP_TEMPLATES_MODE
- HOSTED_FETCH_APP_TEMPLATES_REMOTE_DOMAIN
### HostedMinmaxConfig
- HOSTED_MINIMAX_ENABLED
### HostedOpenAiConfig
- HOSTED_OPENAI_API_KEY
- HOSTED_OPENAI_API_BASE
- HOSTED_OPENAI_API_ORGANIZATION
- HOSTED_OPENAI_TRIAL_ENABLED
- HOSTED_OPENAI_TRIAL_MODELS
- HOSTED_OPENAI_QUOTA_LIMIT
- HOSTED_OPENAI_PAID_ENABLED
- HOSTED_OPENAI_PAID_MODELS
### HostedSparkConfig
- HOSTED_SPARK_ENABLED
### HostedZhipuAIConfig
- HOSTED_ZHIPUAI_ENABLED
### HostedModerationConfig
- HOSTED_MODERATION_ENABLED
- HOSTED_MODERATION_PROVIDERS
### HostedCreditConfig
- HOSTED_MODEL_CREDIT_CONFIG
## CeleryBeatConfig
- CELERY_BEAT_SCHEDULER_TIME

# MiddlewareConfig
## CeleryConfig
- CELERY_BACKEND
- CELERY_BROKER_URL
- CELERY_USE_SENTINEL
- CELERY_SENTINEL_MASTER_NAME
- CELERY_SENTINEL_SOCKET_TIMEOUT
- CELERY_RESULT_BACKEND
- BROKER_USE_SSL
## DatabaseConfig
- DB_HOST
- DB_PORT
- DB_USERNAME
- DB_PASSWORD
- DB_DATABASE
- DB_CHARSET
- DB_EXTRAS
- SQLALCHEMY_DATABASE_URI_SCHEME
- SQLALCHEMY_DATABASE_URI
- SQLALCHEMY_POOL_SIZE
- SQLALCHEMY_MAX_OVERFLOW
- SQLALCHEMY_POOL_RECYCLE
- SQLALCHEMY_POOL_PRE_PING
- SQLALCHEMY_ECHO
- SQLALCHEMY_ENGINE_OPTIONS
## KeywordStoreConfig
- KEYWORD_STORE
## RedisConfig
- REDIS_HOST
- REDIS_PORT
- REDIS_USERNAME
- REDIS_PASSWORD
- REDIS_DB
- REDIS_USE_SSL
- REDIS_USE_SENTINEL
- REDIS_SENTINELS
- REDIS_SENTINEL_SERVICE_NAME
- REDIS_SENTINEL_USERNAME
- REDIS_SENTINEL_PASSWORD
- REDIS_SENTINEL_SOCKET_TIMEOUT
- REDIS_USE_CLUSTERS
- REDIS_CLUSTERS
- REDIS_CLUSTERS_PASSWORD
## StorageConfig
- STORAGE_TYPE
- STORAGE_LOCAL_PATH
## AliyunOSSStorageConfig
- ALIYUN_OSS_BUCKET_NAME
- ALIYUN_OSS_ACCESS_KEY
- ALIYUN_OSS_SECRET_KEY
- ALIYUN_OSS_ENDPOINT
- ALIYUN_OSS_REGION
- ALIYUN_OSS_AUTH_VERSION
- ALIYUN_OSS_PATH
## AzureBlobStorageConfig
- AZURE_BLOB_ACCOUNT_NAME
- AZURE_BLOB_ACCOUNT_KEY
- AZURE_BLOB_CONTAINER_NAME
- AZURE_BLOB_ACCOUNT_URL
## BaiduOBSStorageConfig
- BAIDU_OBS_BUCKET_NAME
- BAIDU_OBS_ACCESS_KEY
- BAIDU_OBS_SECRET_KEY
- BAIDU_OBS_ENDPOINT
## GoogleCloudStorageConfig
- GOOGLE_STORAGE_BUCKET_NAME
- GOOGLE_STORAGE_SERVICE_ACCOUNT_JSON_BASE64
## HuaweiCloudOBSStorageConfig
- HUAWEI_OBS_BUCKET_NAME
- HUAWEI_OBS_ACCESS_KEY
- HUAWEI_OBS_SECRET_KEY
- HUAWEI_OBS_SERVER
## OCIStorageConfig
- OCI_ENDPOINT
- OCI_REGION
- OCI_BUCKET_NAME
- OCI_ACCESS_KEY
- OCI_SECRET_KEY
## OpenDALStorageConfig
- OPENDAL_SCHEME
## S3StorageConfig
- S3_ENDPOINT
- S3_REGION
- S3_BUCKET_NAME
- S3_ACCESS_KEY
- S3_SECRET_KEY
- S3_ADDRESS_STYLE
- S3_USE_AWS_MANAGED_IAM
## SupabaseStorageConfig
- SUPABASE_BUCKET_NAME
- SUPABASE_API_KEY
- SUPABASE_URL
## TencentCloudCOSStorageConfig
- TENCENT_COS_BUCKET_NAME
- TENCENT_COS_REGION
- TENCENT_COS_SECRET_ID
- TENCENT_COS_SECRET_KEY
- TENCENT_COS_SCHEME
## VolcengineTOSStorageConfig
- VOLCENGINE_TOS_BUCKET_NAME
- VOLCENGINE_TOS_ACCESS_KEY
- VOLCENGINE_TOS_SECRET_KEY
- VOLCENGINE_TOS_ENDPOINT
- VOLCENGINE_TOS_REGION
## VectorStoreConfig
- VECTOR_STORE
- VECTOR_STORE_WHITELIST_ENABLE
## AnalyticdbConfig
- ANALYTICDB_KEY_ID
- ANALYTICDB_KEY_SECRET
- ANALYTICDB_REGION_ID
- ANALYTICDB_INSTANCE_ID
- ANALYTICDB_ACCOUNT
- ANALYTICDB_PASSWORD
- ANALYTICDB_NAMESPACE
- ANALYTICDB_NAMESPACE_PASSWORD
- ANALYTICDB_HOST
- ANALYTICDB_PORT
- ANALYTICDB_MIN_CONNECTION
- ANALYTICDB_MAX_CONNECTION
## ChromaConfig
- CHROMA_HOST
- CHROMA_PORT
- CHROMA_TENANT
- CHROMA_DATABASE
- CHROMA_AUTH_PROVIDER
- CHROMA_AUTH_CREDENTIALS
## MilvusConfig
- MILVUS_URI
- MILVUS_TOKEN
- MILVUS_USER
- MILVUS_PASSWORD
- MILVUS_DATABASE
- MILVUS_ENABLE_HYBRID_SEARCH
## MyScaleConfig
- MYSCALE_HOST
- MYSCALE_PORT
- MYSCALE_USER
- MYSCALE_PASSWORD
- MYSCALE_DATABASE
- MYSCALE_FTS_PARAMS
## OpenSearchConfig
- OPENSEARCH_HOST
- OPENSEARCH_PORT
- OPENSEARCH_USER
- OPENSEARCH_PASSWORD
- OPENSEARCH_SECURE
## OracleConfig
- ORACLE_HOST
- ORACLE_PORT
- ORACLE_USER
- ORACLE_PASSWORD
- ORACLE_DATABASE
## PGVectorConfig
- PGVECTOR_HOST
- PGVECTOR_PORT
- PGVECTOR_USER
- PGVECTOR_PASSWORD
- PGVECTOR_DATABASE
- PGVECTOR_MIN_CONNECTION
- PGVECTOR_MAX_CONNECTION
## PGVectoRSConfig
- PGVECTO_RS_HOST
- PGVECTO_RS_PORT
- PGVECTO_RS_USER
- PGVECTO_RS_PASSWORD
- PGVECTO_RS_DATABASE
## QdrantConfig
- QDRANT_URL
- QDRANT_API_KEY
- QDRANT_CLIENT_TIMEOUT
- QDRANT_GRPC_ENABLED
- QDRANT_GRPC_PORT
## RelytConfig
- RELYT_HOST
- RELYT_PORT
- RELYT_USER
- RELYT_PASSWORD
- RELYT_DATABASE
## TencentVectorDBConfig
- TENCENT_VECTOR_DB_URL
- TENCENT_VECTOR_DB_API_KEY
- TENCENT_VECTOR_DB_TIMEOUT
- TENCENT_VECTOR_DB_USERNAME
- TENCENT_VECTOR_DB_PASSWORD
- TENCENT_VECTOR_DB_SHARD
- TENCENT_VECTOR_DB_REPLICAS
- TENCENT_VECTOR_DB_DATABASE
## TiDBVectorConfig
- TIDB_VECTOR_HOST
- TIDB_VECTOR_PORT
- TIDB_VECTOR_USER
- TIDB_VECTOR_PASSWORD
- TIDB_VECTOR_DATABASE
## WeaviateConfig
- WEAVIATE_ENDPOINT
- WEAVIATE_API_KEY
- WEAVIATE_GRPC_ENABLED
- WEAVIATE_BATCH_SIZE
## ElasticsearchConfig
- ELASTICSEARCH_HOST
- ELASTICSEARCH_PORT
- ELASTICSEARCH_USERNAME
- ELASTICSEARCH_PASSWORD
## CouchbaseConfig
- COUCHBASE_CONNECTION_STRING
- COUCHBASE_USER
- COUCHBASE_PASSWORD
- COUCHBASE_BUCKET_NAME
- COUCHBASE_SCOPE_NAME
## InternalTestConfig
- AWS_SECRET_ACCESS_KEY
- AWS_ACCESS_KEY_ID
## VikingDBConfig
- VIKINGDB_ACCESS_KEY
- VIKINGDB_SECRET_KEY
- VIKINGDB_REGION
- VIKINGDB_HOST
- VIKINGDB_SCHEME
- VIKINGDB_CONNECTION_TIMEOUT
- VIKINGDB_SOCKET_TIMEOUT
## UpstashConfig
- UPSTASH_VECTOR_URL
- UPSTASH_VECTOR_TOKEN
## TidbOnQdrantConfig
- TIDB_ON_QDRANT_URL
- TIDB_ON_QDRANT_API_KEY
- TIDB_ON_QDRANT_CLIENT_TIMEOUT
- TIDB_ON_QDRANT_GRPC_ENABLED
- TIDB_ON_QDRANT_GRPC_PORT
- TIDB_PUBLIC_KEY
- TIDB_PRIVATE_KEY
- TIDB_API_URL
- TIDB_IAM_API_URL
- TIDB_REGION
- TIDB_PROJECT_ID
- TIDB_SPEND_LIMIT
## LindormConfig
- LINDORM_URL
- LINDORM_USERNAME
- LINDORM_PASSWORD
- DEFAULT_INDEX_TYPE
- DEFAULT_DISTANCE_TYPE
- USING_UGC_INDEX
## OceanBaseVectorConfig
- OCEANBASE_VECTOR_HOST
- OCEANBASE_VECTOR_PORT
- OCEANBASE_VECTOR_USER
- OCEANBASE_VECTOR_PASSWORD
- OCEANBASE_VECTOR_DATABASE
## BaiduVectorDBConfig
- BAIDU_VECTOR_DB_ENDPOINT
- BAIDU_VECTOR_DB_CONNECTION_TIMEOUT_MS
- BAIDU_VECTOR_DB_ACCOUNT
- BAIDU_VECTOR_DB_API_KEY
- BAIDU_VECTOR_DB_DATABASE
- BAIDU_VECTOR_DB_SHARD
- BAIDU_VECTOR_DB_REPLICAS

# ExtraServiceConfig
## NotionConfig
- NOTION_CLIENT_ID
- NOTION_CLIENT_SECRET
- NOTION_INTEGRATION_TYPE
- NOTION_INTERNAL_SECRET
- NOTION_INTEGRATION_TOKEN
## SentryConfig
- SENTRY_DSN
- SENTRY_TRACES_SAMPLE_RATE
- SENTRY_PROFILES_SAMPLE_RATE

# RemoteSettingsSourceConfig
- REMOTE_SETTINGS_SOURCE_NAME

# EnterpriseFeatureConfig
- ENTERPRISE_ENABLED
- CAN_REPLACE_LOGO

# References
- [1] https://docs.apolo.us/index/core/apps/available-apps/dify